<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<article class="activity project-like"><h4 class="heading">
<span class="type">Activity</span><span class="space"> </span><span class="codenumber">17</span><span class="period">.</span>
</h4>
<div class="para">Before we do any text analysis, we have to do some data cleaning. We will use an Arizona bill regarding trans legislation as an example, which can be viewed <a class="external" href="https://github.com/DAAAAMNSocialJustice/anti-trans-legislation/blob/3f450de86643b58c20df51e910cf7ebd8c4a266e/4-bill-test.xlsx" target="_blank">here</a><a href="" class="fn-knowl original" data-knowl="./knowl/fn-116-hidden.html" title="Footnote 116"><sup> 116 </sup></a>.</div> <div class="para">After downloading the "4-bill-test" excel file, we can enter the following code in R:</div> <div class="para"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/Textualizing%20the%20Data%20Images/Text%20Analysis%20Image%201.png" class="contained"></div></div> <div class="para">This will install some necessary packages for cleaning and read the excel file into R. We want to look at first anti-trans bill in the excel file- an Arizona bill vetoed that addresses pronoun use in schools. Add the following code below what you already have:</div> <div class="para"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/Textualizing%20the%20Data%20Images/Text%20Analysis%20Image%202.png" class="contained"></div></div> <div class="para">This code will output the first row of text of the bills file. We will now clean this section with the following code. Run each block one at a time along with the code from above. You can enter "ltext" at any point to check your progress.</div> <ol class="decimal">
<li>
<div class="para">Removing line breaks.</div>
<div class="para"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/Textualizing%20the%20Data%20Images/Text%20Analysis%20Image%203.png" class="contained"></div></div>
</li>
<li>
<div class="para">Deleting punctuation.</div>
<div class="para"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/Textualizing%20the%20Data%20Images/Text%20Analysis%20Image%204.png" class="contained"></div></div>
</li>
<li>
<div class="para">Deleting a phrase or line.</div>
<div class="para">This text tends to have a 1. and a. and (a) and (b). We already eliminated parentheses and periods, so now we are going to eliminate all single letter words and numbers.  We are intentionally not removing all numbers. There are several references to K12 or under 18 so we want to maintain these. We also want to make sure that our words will be recognized as the same when we construct relationships, so we have to convert everything to lowercase.</div>
<div class="para"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/Textualizing%20the%20Data%20Images/Text%20Analysis%20Image%205.png" class="contained"></div></div>
</li>
<li>
<div class="para">Removing redundant spaces.</div>
<div class="para"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/Textualizing%20the%20Data%20Images/Text%20Analysis%20Image%206.png" class="contained"></div></div>
</li>
<li>
<div class="para">Identifying and eliminating stop words.</div>
<div class="para">Stop words are common words that carry little textual meaning, so we do not need to include them in our analysis. For example, "the", "are", "is", etc...</div>
<div class="para"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/Textualizing%20the%20Data%20Images/Text%20Analysis%20Image%207.png" class="contained"></div></div>
</li>
</ol> <div class="para">After cleaning the data, a block of text remains.</div> <div class="para"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/Textualizing%20the%20Data%20Images/Text%20Analysis%20Image%208.png" class="contained"></div></div> <div class="para">In order to analyze the block of text, we need to get these words into what is called a word vector. For those unfamiliar with the idea of vectors, word vectors are a list of words, with one word on each line. If you are familiar with vectors from other math courses, the idea of a word vector is similar: it is a list of words in an array format. We can create a word vector and save it as a new csv file with the following code:</div> <div class="para"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/Textualizing%20the%20Data%20Images/Text%20Analysis%20Image%209.png" class="contained"></div></div> <div class="para">You can enter "ltext_vec" to view our word vector. Play with the following code to analyze your text.</div> <div class="para"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/Textualizing%20the%20Data%20Images/Text%20Analysis%20Image%2010.png" class="contained"></div></div> <div class="para">We can note that the relative frequency (rflel) is the number of times a particular value for a variable has been observed in relation to the total number of values for that variable. We can also see from our top 20 list that "school" and "pronoun" were of the most common words used in the text. This makes sense given the context of this bill.</div> <div class="para"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/Textualizing%20the%20Data%20Images/Text%20Analysis%20Image%2011.png" class="contained"></div></div></article><span class="incontext"><a href="sec-leg-textualize.html#activity-16" class="internal">in-context</a></span>
</body>
</html>
